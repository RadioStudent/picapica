// Generated by CoffeeScript 2.6.1
(function() {
  var SortableColumn;

  SortableColumn = function($rootScope) {
    var buildParams, service, sort;
    buildParams = function() {
      var activeColumn, obj;
      obj = {};
      if (service.active > -1) {
        activeColumn = service.all[service.active];
        obj[activeColumn.name] = activeColumn.sortOrder;
      }
      return JSON.stringify(obj);
    };
    sort = function(column, index) {
      var col, i, j, len, ref;
      ref = service.all;
      // Clear existing sort
      for (i = j = 0, len = ref.length; j < len; i = ++j) {
        col = ref[i];
        if (i !== index) {
          delete col.sortOrder;
        }
      }
      service.active = index;
      column.sortOrder = column.sortOrder === 'asc' ? 'desc' : 'asc';
      return $rootScope.$broadcast('filters.update');
    };
    return service = {
      active: -1,
      sort: sort,
      all: [
        {
          name: 'fid.raw',
          label: 'FID'
        },
        {
          name: 'artistName',
          label: 'Artist'
        },
        {
          name: 'name',
          label: 'Title'
        },
        {
          name: 'album',
          label: 'Album'
        },
        {
          name: 'label',
          label: 'Label'
        },
        {
          name: 'date',
          label: 'Year'
        },
        {
          name: 'duration',
          label: 'Length'
        }
      ],
      buildParams: buildParams
    };
  };

  module.exports = SortableColumn;

}).call(this);
